import{r as v,_ as R,R as g,b as N,c as S,P as n,j as e,L as P}from"./index-dwMshqbq.js";import{a as D,c as H}from"./index.esm-D-bg44FK.js";import{C as O,a as Z}from"./CRow-Cpzd-lh4.js";import{C as M,a as U}from"./CCardBody-BS33oP_J.js";import{C as W}from"./CCardHeader-uo-W1e64.js";import{C as q,a as G,b as I,c as r,d as J,e as i}from"./CTable-BWaQzE61.js";import{c as $,a as K,C}from"./CFormInput-vQtvdtRD.js";import{C as T}from"./DefaultLayout-C50DTWXY.js";import"./cil-user-Ddrdy7PS.js";var F=v.forwardRef(function(l,k){var c,u=l.children,o=l.className,b=l.feedback,h=l.feedbackInvalid,t=l.feedbackValid,x=l.floatingClassName,f=l.floatingLabel,d=l.htmlSize,j=l.id,y=l.invalid,a=l.label,s=l.options,p=l.size,V=l.text,A=l.tooltipFeedback,L=l.valid,E=R(l,["children","className","feedback","feedbackInvalid","feedbackValid","floatingClassName","floatingLabel","htmlSize","id","invalid","label","options","size","text","tooltipFeedback","valid"]);return g.createElement($,{describedby:E["aria-describedby"],feedback:b,feedbackInvalid:h,feedbackValid:t,floatingClassName:x,floatingLabel:f,id:j,invalid:y,label:a,text:V,tooltipFeedback:A,valid:L},g.createElement("select",N({id:j,className:S("form-select",(c={},c["form-select-".concat(p)]=p,c["is-invalid"]=y,c["is-valid"]=L,c),o),size:d},E,{ref:k}),s?s.map(function(m,B){return g.createElement("option",N({},typeof m=="object"&&m.disabled&&{disabled:m.disabled},typeof m=="object"&&m.value!==void 0&&{value:m.value},{key:B}),typeof m=="string"?m:m.label)}):u))});F.propTypes=N({className:n.string,htmlSize:n.number,options:n.array},$.propTypes);F.displayName="CFormSelect";var z=v.forwardRef(function(l,k){var c,u=l.className,o=l.id,b=l.invalid,h=l.label,t=l.reverse,x=l.size,f=l.type,d=f===void 0?"checkbox":f,j=l.valid,y=R(l,["className","id","invalid","label","reverse","size","type","valid"]);return g.createElement("div",{className:S("form-check form-switch",(c={"form-check-reverse":t},c["form-switch-".concat(x)]=x,c["is-invalid"]=b,c["is-valid"]=j,c),u)},g.createElement("input",N({type:d,className:S("form-check-input",{"is-invalid":b,"is-valid":j}),id:o},y,{ref:k})),h&&g.createElement(K,N({customClassName:"form-check-label"},o&&{htmlFor:o}),h))});z.propTypes={className:n.string,id:n.string,invalid:n.bool,label:n.oneOfType([n.string,n.node]),reverse:n.bool,size:n.oneOf(["lg","xl"]),type:n.oneOf(["checkbox","radio"]),valid:n.bool};z.displayName="CFormSwitch";var Q=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M29.663,482.25l.087.087a24.847,24.847,0,0,0,17.612,7.342,25.178,25.178,0,0,0,8.1-1.345l142.006-48.172,272.5-272.5A88.832,88.832,0,0,0,344.334,42.039l-272.5,272.5L23.666,456.541A24.844,24.844,0,0,0,29.663,482.25Zm337.3-417.584a56.832,56.832,0,0,1,80.371,80.373L411.5,180.873,331.127,100.5ZM99.744,331.884,308.5,123.127,388.873,203.5,180.116,412.256,58.482,453.518Z' class='ci-primary'/>"];const te=()=>{const[l,k]=v.useState([{id:1,status:0,company:"A公司",taxid:"12345678",leader:"王小明",contact:"王小明",address:"高雄市鼓山二路1000號",contactnumber:"02-2222222",phonenumber:"0912345677",level:"銀光",createtime:"2024/11/08"},{id:2,status:1,company:"B公司",taxid:"23454345",leader:"林小美",contact:"林小美",address:"台北市",contactnumber:"02-2222222",level:"金燦",createtime:"2024/10/08"}]),c=[{id:1,name:"銀光"},{id:2,name:"金燦"},{id:3,name:"白金"},{id:4,name:"黑鑽"}],[u,o]=v.useState(""),[b,h]=v.useState(null),[t,x]=v.useState({});v.useEffect(()=>{},[]);const f=a=>{console.log("编辑的数据行：",a),h(a.id),x({...a}),o("d-none")},d=(a,s)=>{console.log("handleInputChange key:",s);var p="";s=="status"?(p=1,a.target.checked&&(p=0)):p=a.target.value,console.log("handleInputChange value:",p),console.log("handleInputChange editedRowData:",t),x({...t,[s]:p})},j=()=>{const a=l.map(s=>s.id===b?{...t}:s);k(a),h(null),o("")},y=()=>{h(null),x({}),o("")};return e.jsx(O,{children:e.jsx(Z,{xs:12,children:e.jsxs(M,{className:"mb-4",children:[e.jsx(W,{children:e.jsx("strong",{children:"經銷商列表"})}),e.jsx(U,{children:e.jsxs(q,{children:[e.jsx(G,{color:"light",children:e.jsxs(I,{children:[e.jsx(r,{scope:"col",style:{width:"5%"},children:"編號"}),e.jsx(r,{scope:"col",style:{width:"11%"},children:"經銷商名稱"}),e.jsx(r,{scope:"col",style:{width:"7%"},children:"分級"}),e.jsx(r,{scope:"col",style:{width:"8%"},children:"統一編號"}),e.jsx(r,{scope:"col",style:{width:"7%"},children:"負責人"}),e.jsx(r,{scope:"col",style:{width:"7%"},children:"連絡人"}),e.jsx(r,{scope:"col",style:{width:"15%"},children:"連絡地址"}),e.jsx(r,{scope:"col",style:{width:"9%"},children:"連絡電話"}),e.jsx(r,{scope:"col",style:{width:"9%"},children:"手機號碼"}),e.jsx(r,{scope:"col",style:{width:"8%"},className:u,children:"建立時間"}),e.jsx(r,{scope:"col",style:{width:"5%"},children:"狀態"}),e.jsx(r,{scope:"col",style:{width:"9%"},children:"操作"})]})}),e.jsx(J,{children:l.map(a=>e.jsx(I,{children:b===a.id?e.jsxs(e.Fragment,{children:[e.jsx(i,{children:a.id}),e.jsx(i,{children:e.jsx(C,{size:"sm",type:"text",id:`editDealerName_${a.id}`,name:"editDealerName",value:t.company,onChange:s=>d(s,"company")})}),e.jsx(i,{children:e.jsx(F,{size:"sm","aria-label":"請選擇經銷商分級",defaultValue:a.level,onChange:s=>d(s,"level"),children:c.map(s=>e.jsx("option",{value:s.name,children:s.name},s.id))})}),e.jsx(i,{children:e.jsx(C,{size:"sm",type:"text",id:`editDealertaxid_${a.id}`,name:"editDealertaxid",value:t.taxid,onChange:s=>d(s,"taxid")})}),e.jsx(i,{children:e.jsx(C,{size:"sm",type:"text",id:`editDealerleader_${a.id}`,name:"editDealerleader",value:t.leader,onChange:s=>d(s,"leader")})}),e.jsx(i,{children:e.jsx(C,{size:"sm",type:"text",id:`editDealerContact_${a.id}`,name:"editDealerContact",value:t.contact,onChange:s=>d(s,"contact")})}),e.jsx(i,{children:e.jsx(C,{size:"sm",type:"text",id:`editDealerAddress_${a.id}`,name:"editDealerAddress",value:t.address,onChange:s=>d(s,"address")})}),e.jsx(i,{children:e.jsx(C,{size:"sm",type:"text",id:`editDealerContactNumber_${a.id}`,name:"editDealerContactNumber",value:t.contactnumber,onChange:s=>d(s,"contactnumber")})}),e.jsx(i,{children:e.jsx(C,{size:"sm",type:"text",id:`editDealerPhoneNumber_${a.id}`,name:"editDealerPhoneNumber",value:t.phonenumber,onChange:s=>d(s,"phonenumber")})}),e.jsx(i,{className:u,children:a.createtime}),e.jsx(i,{children:a.status==0?e.jsx(z,{label:"",id:"formSwitchStatus",value:"0",onChange:s=>d(s,"status"),defaultChecked:!0}):e.jsx(z,{label:"",id:"formSwitchStatus",value:"1",onChange:s=>d(s,"status")})}),e.jsxs(i,{children:[e.jsx(D,{color:"primary",size:"sm",className:"me-2",onClick:j,children:"保存"}),e.jsx(D,{color:"secondary",size:"sm",onClick:y,children:"取消"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(i,{children:a.id}),e.jsx(i,{children:e.jsx(P,{to:`/admin/user/detail/${a.id}`,children:a.company})}),e.jsx(i,{children:a.level}),e.jsx(i,{children:a.taxid}),e.jsx(i,{children:a.leader}),e.jsx(i,{children:a.contact}),e.jsx(i,{children:a.address}),e.jsx(i,{children:a.contactnumber}),e.jsx(i,{children:a.phonenumber}),e.jsx(i,{className:u,children:a.createtime}),e.jsx(i,{children:a.status==0?e.jsx(T,{color:"success",children:"啟用"}):e.jsx(T,{color:"danger",children:"停用"})}),e.jsx(i,{children:e.jsx(D,{color:"info",size:"sm",variant:"outline",className:"me-2",onClick:()=>f(a),children:e.jsx(H,{icon:Q,size:"sm"})})})]})},a.id))})]})})]})})})};export{te as default};
